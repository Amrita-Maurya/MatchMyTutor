<!-- templates/tutoring/manage_bookings.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Bookings</title>
</head>
<body>

<h2>Your Bookings</h2>

<table border="1">
    <tr>
        <th>Student</th>
        <th>Slot</th>
        <th>Status</th>
        <th>Action</th>
    </tr>
    {% for booking in bookings %}
        <tr>
            <td>{{ booking.student.username }}</td>
            <td>{{ booking.slot.start_time }} - {{ booking.slot.end_time }}</td>
            <td>{{ booking.status }}</td>
            <td>
                {% if booking.status == "pending" %}
                    <form action="{% url 'tutor:manage_bookings'  %}" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="booking_id" value="{{ booking.id }}">
                        <button type="submit" name="action" value="confirm">Confirm</button>
                        <button type="submit" name="action" value="reject">Reject</button>
                    </form>
                {% else %}
                    {{ booking.status }}
                {% endif %}
            </td>
        </tr>
    {% endfor %}
</table>



</body>
</html>